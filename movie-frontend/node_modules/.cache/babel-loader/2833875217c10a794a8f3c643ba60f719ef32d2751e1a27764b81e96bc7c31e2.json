{"ast":null,"code":"// src/pages/admin/AnalyticsPage.jsx\nimport{useEffect,useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function AnalyticsPage(){const[logs,setLogs]=useState([]);const[loading,setLoading]=useState(true);const[filter,setFilter]=useState('');useEffect(()=>{axios.get('/api/admin/analytics').then(res=>{setLogs(res.data);setLoading(false);});},[]);const filtered=logs.filter(log=>log.method.toLowerCase().includes(filter.toLowerCase())||log.endpoint.toLowerCase().includes(filter.toLowerCase()));return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold mb-4\",children:\"User Activity Logs\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Filter by method or endpoint\",value:filter,onChange:e=>setFilter(e.target.value),className:\"mb-4 p-2 border border-gray-300 rounded w-full\"}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading logs...\"}):/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-2\",children:filtered.map((log,idx)=>/*#__PURE__*/_jsxs(\"li\",{className:\"bg-white border p-3 rounded shadow-sm text-sm\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"font-mono text-blue-700\",children:[\"[\",log.method,\"]\"]}),\" \",log.endpoint,/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-600 mt-1\",children:[\"by \",/*#__PURE__*/_jsx(\"strong\",{children:log.userId}),\" @ \",new Date(log.timestamp).toLocaleString()]})]},idx))})]});}","map":{"version":3,"names":["useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","AnalyticsPage","logs","setLogs","loading","setLoading","filter","setFilter","get","then","res","data","filtered","log","method","toLowerCase","includes","endpoint","children","className","type","placeholder","value","onChange","e","target","map","idx","userId","Date","timestamp","toLocaleString"],"sources":["/data/data/com.termux/files/home/Movie_Recommendation_App/movie-frontend/src/pages/admin/AnalyticsPage.jsx"],"sourcesContent":["// src/pages/admin/AnalyticsPage.jsx\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\n\nexport default function AnalyticsPage() {\n  const [logs, setLogs] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [filter, setFilter] = useState('');\n\n  useEffect(() => {\n    axios.get('/api/admin/analytics').then(res => {\n      setLogs(res.data);\n      setLoading(false);\n    });\n  }, []);\n\n  const filtered = logs.filter(log =>\n    log.method.toLowerCase().includes(filter.toLowerCase()) ||\n    log.endpoint.toLowerCase().includes(filter.toLowerCase())\n  );\n\n  return (\n    <div>\n      <h2 className=\"text-2xl font-semibold mb-4\">User Activity Logs</h2>\n      <input\n        type=\"text\"\n        placeholder=\"Filter by method or endpoint\"\n        value={filter}\n        onChange={e => setFilter(e.target.value)}\n        className=\"mb-4 p-2 border border-gray-300 rounded w-full\"\n      />\n\n      {loading ? (\n        <p>Loading logs...</p>\n      ) : (\n        <ul className=\"space-y-2\">\n          {filtered.map((log, idx) => (\n            <li key={idx} className=\"bg-white border p-3 rounded shadow-sm text-sm\">\n              <span className=\"font-mono text-blue-700\">[{log.method}]</span> {log.endpoint}\n              <div className=\"text-xs text-gray-600 mt-1\">\n                by <strong>{log.userId}</strong> @ {new Date(log.timestamp).toLocaleString()}\n              </div>\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n}\n"],"mappings":"AAAA;AACA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,cAAe,SAAS,CAAAC,aAAaA,CAAA,CAAG,CACtC,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAACS,OAAO,CAAEC,UAAU,CAAC,CAAGV,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACW,MAAM,CAAEC,SAAS,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAExCD,SAAS,CAAC,IAAM,CACdE,KAAK,CAACY,GAAG,CAAC,sBAAsB,CAAC,CAACC,IAAI,CAACC,GAAG,EAAI,CAC5CP,OAAO,CAACO,GAAG,CAACC,IAAI,CAAC,CACjBN,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CACJ,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAO,QAAQ,CAAGV,IAAI,CAACI,MAAM,CAACO,GAAG,EAC9BA,GAAG,CAACC,MAAM,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACV,MAAM,CAACS,WAAW,CAAC,CAAC,CAAC,EACvDF,GAAG,CAACI,QAAQ,CAACF,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACV,MAAM,CAACS,WAAW,CAAC,CAAC,CAC1D,CAAC,CAED,mBACEf,KAAA,QAAAkB,QAAA,eACEpB,IAAA,OAAIqB,SAAS,CAAC,6BAA6B,CAAAD,QAAA,CAAC,oBAAkB,CAAI,CAAC,cACnEpB,IAAA,UACEsB,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,8BAA8B,CAC1CC,KAAK,CAAEhB,MAAO,CACdiB,QAAQ,CAAEC,CAAC,EAAIjB,SAAS,CAACiB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CACzCH,SAAS,CAAC,gDAAgD,CAC3D,CAAC,CAEDf,OAAO,cACNN,IAAA,MAAAoB,QAAA,CAAG,iBAAe,CAAG,CAAC,cAEtBpB,IAAA,OAAIqB,SAAS,CAAC,WAAW,CAAAD,QAAA,CACtBN,QAAQ,CAACc,GAAG,CAAC,CAACb,GAAG,CAAEc,GAAG,gBACrB3B,KAAA,OAAcmB,SAAS,CAAC,+CAA+C,CAAAD,QAAA,eACrElB,KAAA,SAAMmB,SAAS,CAAC,yBAAyB,CAAAD,QAAA,EAAC,GAAC,CAACL,GAAG,CAACC,MAAM,CAAC,GAAC,EAAM,CAAC,IAAC,CAACD,GAAG,CAACI,QAAQ,cAC7EjB,KAAA,QAAKmB,SAAS,CAAC,4BAA4B,CAAAD,QAAA,EAAC,KACvC,cAAApB,IAAA,WAAAoB,QAAA,CAASL,GAAG,CAACe,MAAM,CAAS,CAAC,MAAG,CAAC,GAAI,CAAAC,IAAI,CAAChB,GAAG,CAACiB,SAAS,CAAC,CAACC,cAAc,CAAC,CAAC,EACzE,CAAC,GAJCJ,GAKL,CACL,CAAC,CACA,CACL,EACE,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}